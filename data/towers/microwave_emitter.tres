[gd_resource type="Resource" script_class="TowerData" load_steps=56 format=3]

[ext_resource type="Script" path="res://scripts/resources/tower_data.gd" id="1_td"]
[ext_resource type="PackedScene" path="res://scenes/towers/base_tower.tscn" id="2_scene"]
[ext_resource type="PackedScene" path="res://scenes/projectiles/microwave_beam_projectile.tscn" id="3_proj"]
[ext_resource type="Script" path="res://scripts/resources/upgrade_path_data.gd" id="4_upd"]
[ext_resource type="Script" path="res://scripts/resources/upgrade_tier_data.gd" id="5_utd"]
[ext_resource type="Script" path="res://scripts/resources/stat_modifier_data.gd" id="6_smd"]
[ext_resource type="Script" path="res://scripts/resources/status_effect_data.gd" id="7_sed"]

; -- Base on-hit: ARMOR_SHRED 10%, 5s, 3 stacks --
[sub_resource type="Resource" id="shred_effect"]
script = ExtResource("7_sed")
effect_type = 4
duration = 5.0
potency = 0.1
stack_limit = 3
apply_chance = 1.0

; -- Path A "Power Amplification" (damage) --
[sub_resource type="Resource" id="mod_a1_dmg"]
script = ExtResource("6_smd")
stat_name = "base_damage"
operation = 1
value = 1.5

[sub_resource type="Resource" id="tier_a1"]
script = ExtResource("5_utd")
tier_name = "Magnetron Upgrade"
description = "More watts, more compliance"
cost = 5
stat_modifiers = [SubResource("mod_a1_dmg")]

[sub_resource type="Resource" id="mod_a2_dmg"]
script = ExtResource("6_smd")
stat_name = "base_damage"
operation = 1
value = 1.5

[sub_resource type="Resource" id="mod_a2_crit"]
script = ExtResource("6_smd")
stat_name = "crit_chance"
operation = 0
value = 0.06

[sub_resource type="Resource" id="tier_a2"]
script = ExtResource("5_utd")
tier_name = "Cavity Resonator"
description = "Tuned to the resonant frequency of dissent"
cost = 10
stat_modifiers = [SubResource("mod_a2_dmg"), SubResource("mod_a2_crit")]

[sub_resource type="Resource" id="mod_a3_dmg"]
script = ExtResource("6_smd")
stat_name = "base_damage"
operation = 1
value = 1.5

[sub_resource type="Resource" id="mod_a3_crit"]
script = ExtResource("6_smd")
stat_name = "crit_chance"
operation = 0
value = 0.06

[sub_resource type="Resource" id="tier_a3"]
script = ExtResource("5_utd")
tier_name = "Klystron Amplifier"
description = "Military surplus. Originally designed for something worse."
cost = 16
stat_modifiers = [SubResource("mod_a3_dmg"), SubResource("mod_a3_crit")]

[sub_resource type="Resource" id="mod_a4_dmg"]
script = ExtResource("6_smd")
stat_name = "base_damage"
operation = 1
value = 1.6

[sub_resource type="Resource" id="mod_a4_crit"]
script = ExtResource("6_smd")
stat_name = "crit_chance"
operation = 0
value = 0.06

[sub_resource type="Resource" id="tier_a4"]
script = ExtResource("5_utd")
tier_name = "Maser Beam"
description = "Like a laser but for cooking. Cooking people."
cost = 26
stat_modifiers = [SubResource("mod_a4_dmg"), SubResource("mod_a4_crit")]

[sub_resource type="Resource" id="mod_a5_dmg"]
script = ExtResource("6_smd")
stat_name = "base_damage"
operation = 1
value = 1.8

[sub_resource type="Resource" id="burn_a5"]
script = ExtResource("7_sed")
effect_type = 3
duration = 3.0
potency = 12.5
stack_limit = 3
apply_chance = 1.0

[sub_resource type="Resource" id="tier_a5"]
script = ExtResource("5_utd")
tier_name = "Solar Flare"
description = "Brings the surface temperature of the sun to street level. SPF infinity recommended."
cost = 42
stat_modifiers = [SubResource("mod_a5_dmg")]
unlocks_ability = SubResource("burn_a5")

[sub_resource type="Resource" id="path_a"]
script = ExtResource("4_upd")
path_name = "Power Amplification"
description = "Increase beam damage output"
tiers = [SubResource("tier_a1"), SubResource("tier_a2"), SubResource("tier_a3"), SubResource("tier_a4"), SubResource("tier_a5")]

; -- Path B "Beam Focus" (range + crit) --
[sub_resource type="Resource" id="mod_b1_range"]
script = ExtResource("6_smd")
stat_name = "base_range"
operation = 0
value = 0.6

[sub_resource type="Resource" id="mod_b1_crit"]
script = ExtResource("6_smd")
stat_name = "crit_chance"
operation = 0
value = 0.06

[sub_resource type="Resource" id="tier_b1"]
script = ExtResource("5_utd")
tier_name = "Collimator Lens"
description = "Precision heating for precision compliance"
cost = 5
stat_modifiers = [SubResource("mod_b1_range"), SubResource("mod_b1_crit")]

[sub_resource type="Resource" id="mod_b2_range"]
script = ExtResource("6_smd")
stat_name = "base_range"
operation = 0
value = 0.6

[sub_resource type="Resource" id="mod_b2_crit"]
script = ExtResource("6_smd")
stat_name = "crit_chance"
operation = 0
value = 0.06

[sub_resource type="Resource" id="tier_b2"]
script = ExtResource("5_utd")
tier_name = "Adaptive Targeting"
description = "Heat-seeking heat beam. Redundantly effective."
cost = 10
stat_modifiers = [SubResource("mod_b2_range"), SubResource("mod_b2_crit")]

[sub_resource type="Resource" id="mod_b3_range"]
script = ExtResource("6_smd")
stat_name = "base_range"
operation = 0
value = 0.6

[sub_resource type="Resource" id="mod_b3_crit"]
script = ExtResource("6_smd")
stat_name = "crit_chance"
operation = 0
value = 0.06

[sub_resource type="Resource" id="tier_b3"]
script = ExtResource("5_utd")
tier_name = "Waveguide Lens"
description = "Focuses the beam to a point. The point is pain."
cost = 16
stat_modifiers = [SubResource("mod_b3_range"), SubResource("mod_b3_crit")]

[sub_resource type="Resource" id="mod_b4_range"]
script = ExtResource("6_smd")
stat_name = "base_range"
operation = 0
value = 0.6

[sub_resource type="Resource" id="mod_b4_crit"]
script = ExtResource("6_smd")
stat_name = "crit_chance"
operation = 0
value = 0.06

[sub_resource type="Resource" id="tier_b4"]
script = ExtResource("5_utd")
tier_name = "Phased Array"
description = "Each element tracks independently. Nowhere to hide."
cost = 26
stat_modifiers = [SubResource("mod_b4_range"), SubResource("mod_b4_crit")]

[sub_resource type="Resource" id="mod_b5_range"]
script = ExtResource("6_smd")
stat_name = "base_range"
operation = 0
value = 1.5

[sub_resource type="Resource" id="mod_b5_critmult"]
script = ExtResource("6_smd")
stat_name = "crit_multiplier"
operation = 2
value = 3.5

[sub_resource type="Resource" id="mod_b5_crit"]
script = ExtResource("6_smd")
stat_name = "crit_chance"
operation = 0
value = 0.06

[sub_resource type="Resource" id="tier_b5"]
script = ExtResource("5_utd")
tier_name = "Death Ray"
description = "Not its official name. Its official name is classified. But yes, it's a death ray."
cost = 42
stat_modifiers = [SubResource("mod_b5_range"), SubResource("mod_b5_critmult"), SubResource("mod_b5_crit")]

[sub_resource type="Resource" id="path_b"]
script = ExtResource("4_upd")
path_name = "Beam Focus"
description = "Improve range and critical precision"
tiers = [SubResource("tier_b1"), SubResource("tier_b2"), SubResource("tier_b3"), SubResource("tier_b4"), SubResource("tier_b5")]

; -- Path C "Area Coverage" (AoE) --
[sub_resource type="Resource" id="mod_c1_aoe"]
script = ExtResource("6_smd")
stat_name = "area_of_effect"
operation = 0
value = 0.6

[sub_resource type="Resource" id="tier_c1"]
script = ExtResource("5_utd")
tier_name = "Heat Diffuser"
description = "Spread the warmth to everyone nearby"
cost = 5
stat_modifiers = [SubResource("mod_c1_aoe")]

[sub_resource type="Resource" id="mod_c2_aoe"]
script = ExtResource("6_smd")
stat_name = "area_of_effect"
operation = 0
value = 0.6

[sub_resource type="Resource" id="mod_c2_rate"]
script = ExtResource("6_smd")
stat_name = "fire_rate"
operation = 1
value = 1.3

[sub_resource type="Resource" id="tier_c2"]
script = ExtResource("5_utd")
tier_name = "Radiant Emitter"
description = "Mandatory sunburn dispenser"
cost = 10
stat_modifiers = [SubResource("mod_c2_aoe"), SubResource("mod_c2_rate")]

[sub_resource type="Resource" id="mod_c3_aoe"]
script = ExtResource("6_smd")
stat_name = "area_of_effect"
operation = 0
value = 0.6

[sub_resource type="Resource" id="mod_c3_rate"]
script = ExtResource("6_smd")
stat_name = "fire_rate"
operation = 1
value = 1.25

[sub_resource type="Resource" id="tier_c3"]
script = ExtResource("5_utd")
tier_name = "Scatter Emitter"
description = "Wide-angle warmth distribution for crowd-sized comfort"
cost = 16
stat_modifiers = [SubResource("mod_c3_aoe"), SubResource("mod_c3_rate")]

[sub_resource type="Resource" id="mod_c4_aoe"]
script = ExtResource("6_smd")
stat_name = "area_of_effect"
operation = 0
value = 0.6

[sub_resource type="Resource" id="mod_c4_rate"]
script = ExtResource("6_smd")
stat_name = "fire_rate"
operation = 1
value = 1.3

[sub_resource type="Resource" id="tier_c4"]
script = ExtResource("5_utd")
tier_name = "Omnidirectional Pulse"
description = "360 degrees of discomfort. No blind spots."
cost = 26
stat_modifiers = [SubResource("mod_c4_aoe"), SubResource("mod_c4_rate")]

[sub_resource type="Resource" id="mod_c5_aoe"]
script = ExtResource("6_smd")
stat_name = "area_of_effect"
operation = 0
value = 1.5

[sub_resource type="Resource" id="shred_c5"]
script = ExtResource("7_sed")
effect_type = 4
duration = 5.0
potency = 0.2
stack_limit = 5
apply_chance = 1.0

[sub_resource type="Resource" id="tier_c5"]
script = ExtResource("5_utd")
tier_name = "Meltdown Protocol"
description = "Melts armor, morale, and any remaining faith in protective equipment"
cost = 42
stat_modifiers = [SubResource("mod_c5_aoe")]
unlocks_ability = SubResource("shred_c5")

[sub_resource type="Resource" id="path_c"]
script = ExtResource("4_upd")
path_name = "Area Coverage"
description = "Widen the microwave emission field"
tiers = [SubResource("tier_c1"), SubResource("tier_c2"), SubResource("tier_c3"), SubResource("tier_c4"), SubResource("tier_c5")]

[resource]
script = ExtResource("1_td")
tower_id = "microwave_emitter"
tower_name = "Microwave Emitter"
description = "Active Denial System. Makes you feel warm inside. And outside. Mostly outside."
scene = ExtResource("2_scene")
build_cost = 16
sell_ratio = 0.65
base_damage = 18.0
damage_type = 5
base_range = 4.5
fire_rate = 0.5
projectile_type = 4
projectile_scene = ExtResource("3_proj")
area_of_effect = 0.0
pierce_count = 1
crit_chance = 0.0
crit_multiplier = 2.0
crossfire_bonus = 0.25
on_hit_effects = [SubResource("shred_effect")]
upgrade_paths = [SubResource("path_a"), SubResource("path_b"), SubResource("path_c")]
