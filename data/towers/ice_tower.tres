[gd_resource type="Resource" script_class="TowerData" load_steps=19 format=3]

[ext_resource type="Script" path="res://scripts/resources/tower_data.gd" id="1_td"]
[ext_resource type="PackedScene" path="res://scenes/towers/base_tower.tscn" id="2_scene"]
[ext_resource type="PackedScene" path="res://scenes/projectiles/water_stream_projectile.tscn" id="3_proj"]
[ext_resource type="Script" path="res://scripts/resources/upgrade_path_data.gd" id="4_upd"]
[ext_resource type="Script" path="res://scripts/resources/upgrade_tier_data.gd" id="5_utd"]
[ext_resource type="Script" path="res://scripts/resources/stat_modifier_data.gd" id="6_smd"]
[ext_resource type="Script" path="res://scripts/resources/status_effect_data.gd" id="7_sed"]

; -- Base on-hit: SLOW 35%, 2s, 1 stack --
[sub_resource type="Resource" id="slow_effect"]
script = ExtResource("7_sed")
effect_type = 0
duration = 2.0
potency = 0.35
stack_limit = 1
apply_chance = 1.0

; -- Path C "Arctic Flow" (enhanced slow -> freeze) --
[sub_resource type="Resource" id="slow_c1"]
script = ExtResource("7_sed")
effect_type = 0
duration = 2.5
potency = 0.5
stack_limit = 1
apply_chance = 1.0

[sub_resource type="Resource" id="tier_c1"]
script = ExtResource("5_utd")
tier_name = "Chilled Water"
description = "Hypothermia is just aggressive cooling"
cost = 1
unlocks_ability = SubResource("slow_c1")

[sub_resource type="Resource" id="freeze_c2"]
script = ExtResource("7_sed")
effect_type = 1
duration = 1.0
potency = 1.0
stack_limit = 1
apply_chance = 0.2

[sub_resource type="Resource" id="tier_c2"]
script = ExtResource("5_utd")
tier_name = "Cryo Jet"
description = "Flash-freeze for flash mobs"
cost = 2
unlocks_ability = SubResource("freeze_c2")

[sub_resource type="Resource" id="freeze_c3"]
script = ExtResource("7_sed")
effect_type = 1
duration = 1.0
potency = 1.0
stack_limit = 1
apply_chance = 0.3

[sub_resource type="Resource" id="tier_c3"]
script = ExtResource("5_utd")
tier_name = "Sub-Zero Mix"
description = "Antifreeze? No, this is pro-freeze."
cost = 3
unlocks_ability = SubResource("freeze_c3")

[sub_resource type="Resource" id="freeze_c4"]
script = ExtResource("7_sed")
effect_type = 1
duration = 1.5
potency = 1.0
stack_limit = 1
apply_chance = 0.4

[sub_resource type="Resource" id="tier_c4"]
script = ExtResource("5_utd")
tier_name = "Permafrost Compound"
description = "Winter came. It's not leaving."
cost = 5
unlocks_ability = SubResource("freeze_c4")

[sub_resource type="Resource" id="freeze_c5"]
script = ExtResource("7_sed")
effect_type = 1
duration = 2.0
potency = 1.0
stack_limit = 1
apply_chance = 0.5

[sub_resource type="Resource" id="mod_c5_aoe"]
script = ExtResource("6_smd")
stat_name = "area_of_effect"
operation = 0
value = 1.0

[sub_resource type="Resource" id="tier_c5"]
script = ExtResource("5_utd")
tier_name = "Absolute Zero"
description = "Thermodynamics called. We told them to shut up and comply."
cost = 8
stat_modifiers = [SubResource("mod_c5_aoe")]
unlocks_ability = SubResource("freeze_c5")

[sub_resource type="Resource" id="path_c"]
script = ExtResource("4_upd")
path_name = "Arctic Flow"
description = "Enhance slow potency, unlock freeze"
tiers = [SubResource("tier_c1"), SubResource("tier_c2"), SubResource("tier_c3"), SubResource("tier_c4"), SubResource("tier_c5")]

[resource]
script = ExtResource("1_td")
tower_id = "water_cannon"
tower_name = "Water Cannon"
description = "Mandatory hydration services."
scene = ExtResource("2_scene")
build_cost = 5
sell_ratio = 0.65
base_damage = 4.0
damage_type = 2
base_range = 3.0
fire_rate = 1.0
projectile_type = 0
projectile_scene = ExtResource("3_proj")
area_of_effect = 0.0
pierce_count = 1
crit_chance = 0.0
crit_multiplier = 2.0
can_target_flying = false
on_hit_effects = [SubResource("slow_effect")]
upgrade_paths = [SubResource("path_c")]
