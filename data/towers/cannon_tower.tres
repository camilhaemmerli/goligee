[gd_resource type="Resource" script_class="TowerData" load_steps=35 format=3]

[ext_resource type="Script" path="res://scripts/resources/tower_data.gd" id="1_td"]
[ext_resource type="PackedScene" path="res://scenes/towers/base_tower.tscn" id="2_scene"]
[ext_resource type="PackedScene" path="res://scenes/projectiles/tear_gas_projectile.tscn" id="3_proj"]
[ext_resource type="Script" path="res://scripts/resources/upgrade_path_data.gd" id="4_upd"]
[ext_resource type="Script" path="res://scripts/resources/upgrade_tier_data.gd" id="5_utd"]
[ext_resource type="Script" path="res://scripts/resources/stat_modifier_data.gd" id="6_smd"]
[ext_resource type="Script" path="res://scripts/resources/status_effect_data.gd" id="7_sed"]

; -- Path A "Chemical Warfare" (AoE + damage) --
[sub_resource type="Resource" id="mod_a1_aoe"]
script = ExtResource("6_smd")
stat_name = "area_of_effect"
operation = 0
value = 0.5

[sub_resource type="Resource" id="mod_a1_dmg"]
script = ExtResource("6_smd")
stat_name = "base_damage"
operation = 1
value = 1.3

[sub_resource type="Resource" id="tier_a1"]
script = ExtResource("5_utd")
tier_name = "Wide Dispersal"
description = "More coverage, more compliance"
cost = 2
stat_modifiers = [SubResource("mod_a1_aoe"), SubResource("mod_a1_dmg")]

[sub_resource type="Resource" id="mod_a2_aoe"]
script = ExtResource("6_smd")
stat_name = "area_of_effect"
operation = 0
value = 0.5

[sub_resource type="Resource" id="mod_a2_dmg"]
script = ExtResource("6_smd")
stat_name = "base_damage"
operation = 1
value = 1.5

[sub_resource type="Resource" id="tier_a2"]
script = ExtResource("5_utd")
tier_name = "Nerve Agent"
description = "Geneva suggestion, really"
cost = 4
stat_modifiers = [SubResource("mod_a2_aoe"), SubResource("mod_a2_dmg")]

[sub_resource type="Resource" id="mod_a3_aoe"]
script = ExtResource("6_smd")
stat_name = "area_of_effect"
operation = 0
value = 0.5

[sub_resource type="Resource" id="mod_a3_dmg"]
script = ExtResource("6_smd")
stat_name = "base_damage"
operation = 1
value = 1.3

[sub_resource type="Resource" id="tier_a3"]
script = ExtResource("5_utd")
tier_name = "Binary Agent"
description = "Two chemicals, one purpose: suffering"
cost = 6
stat_modifiers = [SubResource("mod_a3_aoe"), SubResource("mod_a3_dmg")]

[sub_resource type="Resource" id="mod_a4_aoe"]
script = ExtResource("6_smd")
stat_name = "area_of_effect"
operation = 0
value = 0.5

[sub_resource type="Resource" id="mod_a4_dmg"]
script = ExtResource("6_smd")
stat_name = "base_damage"
operation = 1
value = 1.4

[sub_resource type="Resource" id="tier_a4"]
script = ExtResource("5_utd")
tier_name = "Weaponized Compound"
description = "The lab report is redacted for your safety"
cost = 10
stat_modifiers = [SubResource("mod_a4_aoe"), SubResource("mod_a4_dmg")]

[sub_resource type="Resource" id="mod_a5_aoe"]
script = ExtResource("6_smd")
stat_name = "area_of_effect"
operation = 0
value = 1.0

[sub_resource type="Resource" id="mod_a5_dmg"]
script = ExtResource("6_smd")
stat_name = "base_damage"
operation = 1
value = 1.5

[sub_resource type="Resource" id="tier_a5"]
script = ExtResource("5_utd")
tier_name = "Forbidden Protocol"
description = "Banned by 194 countries. Approved by the one that matters."
cost = 16
stat_modifiers = [SubResource("mod_a5_aoe"), SubResource("mod_a5_dmg")]

[sub_resource type="Resource" id="path_a"]
script = ExtResource("4_upd")
path_name = "Chemical Warfare"
description = "Increase dispersal radius and potency"
tiers = [SubResource("tier_a1"), SubResource("tier_a2"), SubResource("tier_a3"), SubResource("tier_a4"), SubResource("tier_a5")]

; -- Path C "Persistent Agent" (DoT via unlocks_ability) --
[sub_resource type="Resource" id="poison_c1"]
script = ExtResource("7_sed")
effect_type = 2
duration = 3.0
potency = 3.0
stack_limit = 3
apply_chance = 1.0

[sub_resource type="Resource" id="tier_c1"]
script = ExtResource("5_utd")
tier_name = "Lingering Fumes"
description = "The gift that keeps on giving"
cost = 2
unlocks_ability = SubResource("poison_c1")

[sub_resource type="Resource" id="poison_c2"]
script = ExtResource("7_sed")
effect_type = 2
duration = 4.0
potency = 5.0
stack_limit = 5
apply_chance = 1.0

[sub_resource type="Resource" id="tier_c2"]
script = ExtResource("5_utd")
tier_name = "Persistent Compound"
description = "Still crying? That's the residual agent working as intended."
cost = 4
unlocks_ability = SubResource("poison_c2")

[sub_resource type="Resource" id="poison_c3"]
script = ExtResource("7_sed")
effect_type = 2
duration = 4.0
potency = 6.0
stack_limit = 5
apply_chance = 1.0

[sub_resource type="Resource" id="tier_c3"]
script = ExtResource("5_utd")
tier_name = "Mutagenic Residue"
description = "Side effects may include compliance and extra fingers"
cost = 6
unlocks_ability = SubResource("poison_c3")

[sub_resource type="Resource" id="burn_c4"]
script = ExtResource("7_sed")
effect_type = 3
duration = 3.0
potency = 4.0
stack_limit = 3
apply_chance = 1.0

[sub_resource type="Resource" id="tier_c4"]
script = ExtResource("5_utd")
tier_name = "Thermite Additive"
description = "Now it burns AND poisons. Synergy!"
cost = 10
unlocks_ability = SubResource("burn_c4")

[sub_resource type="Resource" id="poison_c5"]
script = ExtResource("7_sed")
effect_type = 2
duration = 5.0
potency = 8.0
stack_limit = 8
apply_chance = 1.0

[sub_resource type="Resource" id="tier_c5"]
script = ExtResource("5_utd")
tier_name = "Doomsday Agent"
description = "The area will be habitable again in 50 years. Probably."
cost = 16
unlocks_ability = SubResource("poison_c5")

[sub_resource type="Resource" id="path_c"]
script = ExtResource("4_upd")
path_name = "Persistent Agent"
description = "Add lingering poison damage over time"
tiers = [SubResource("tier_c1"), SubResource("tier_c2"), SubResource("tier_c3"), SubResource("tier_c4"), SubResource("tier_c5")]

[resource]
script = ExtResource("1_td")
tower_id = "tear_gas"
tower_name = "Tear Gas Launcher"
description = "Area denial for the greater good."
scene = ExtResource("2_scene")
build_cost = 8
sell_ratio = 0.65
base_damage = 18.0
damage_type = 1
base_range = 3.5
fire_rate = 0.4
projectile_type = 3
projectile_scene = ExtResource("3_proj")
area_of_effect = 1.5
pierce_count = 1
crit_chance = 0.0
crit_multiplier = 2.0
upgrade_paths = [SubResource("path_a"), SubResource("path_c")]
