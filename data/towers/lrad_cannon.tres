[gd_resource type="Resource" script_class="TowerData" load_steps=52 format=3]

[ext_resource type="Script" path="res://scripts/resources/tower_data.gd" id="1_td"]
[ext_resource type="PackedScene" path="res://scenes/towers/base_tower.tscn" id="2_scene"]
[ext_resource type="PackedScene" path="res://scenes/projectiles/sonic_wave_projectile.tscn" id="3_proj"]
[ext_resource type="Script" path="res://scripts/resources/upgrade_path_data.gd" id="4_upd"]
[ext_resource type="Script" path="res://scripts/resources/upgrade_tier_data.gd" id="5_utd"]
[ext_resource type="Script" path="res://scripts/resources/stat_modifier_data.gd" id="6_smd"]
[ext_resource type="Script" path="res://scripts/resources/status_effect_data.gd" id="7_sed"]

; -- Base on-hit: POISON 4 DPS, 4s, 5 stacks --
[sub_resource type="Resource" id="poison_effect"]
script = ExtResource("7_sed")
effect_type = 2
duration = 4.0
potency = 4.0
stack_limit = 5
apply_chance = 1.0

; -- Path A "Volume Control" (damage) --
[sub_resource type="Resource" id="mod_a1_dmg"]
script = ExtResource("6_smd")
stat_name = "base_damage"
operation = 1
value = 1.4

[sub_resource type="Resource" id="tier_a1"]
script = ExtResource("5_utd")
tier_name = "Bass Boost"
description = "Subsonic frequencies for subsonic compliance"
cost = 3
stat_modifiers = [SubResource("mod_a1_dmg")]

[sub_resource type="Resource" id="mod_a2_dmg"]
script = ExtResource("6_smd")
stat_name = "base_damage"
operation = 1
value = 1.4

[sub_resource type="Resource" id="mod_a2_range"]
script = ExtResource("6_smd")
stat_name = "base_range"
operation = 0
value = 0.5

[sub_resource type="Resource" id="tier_a2"]
script = ExtResource("5_utd")
tier_name = "Directional Array"
description = "Focused sonic beam. Earplugs not included."
cost = 6
stat_modifiers = [SubResource("mod_a2_dmg"), SubResource("mod_a2_range")]

[sub_resource type="Resource" id="mod_a3_dmg"]
script = ExtResource("6_smd")
stat_name = "base_damage"
operation = 1
value = 1.3

[sub_resource type="Resource" id="mod_a3_range"]
script = ExtResource("6_smd")
stat_name = "base_range"
operation = 0
value = 0.5

[sub_resource type="Resource" id="tier_a3"]
script = ExtResource("5_utd")
tier_name = "Concert-Grade Array"
description = "Front row seats. Attendance is mandatory."
cost = 9
stat_modifiers = [SubResource("mod_a3_dmg"), SubResource("mod_a3_range")]

[sub_resource type="Resource" id="mod_a4_dmg"]
script = ExtResource("6_smd")
stat_name = "base_damage"
operation = 1
value = 1.4

[sub_resource type="Resource" id="mod_a4_crit"]
script = ExtResource("6_smd")
stat_name = "crit_chance"
operation = 0
value = 0.05

[sub_resource type="Resource" id="tier_a4"]
script = ExtResource("5_utd")
tier_name = "Resonance Cannon"
description = "Finds the resonant frequency of your skeleton"
cost = 15
stat_modifiers = [SubResource("mod_a4_dmg"), SubResource("mod_a4_crit")]

[sub_resource type="Resource" id="mod_a5_dmg"]
script = ExtResource("6_smd")
stat_name = "base_damage"
operation = 1
value = 1.5

[sub_resource type="Resource" id="mod_a5_aoe"]
script = ExtResource("6_smd")
stat_name = "area_of_effect"
operation = 0
value = 0.5

[sub_resource type="Resource" id="tier_a5"]
script = ExtResource("5_utd")
tier_name = "Sonic Annihilator"
description = "The last thing they'll hear. Also the loudest thing anyone has ever heard."
cost = 24
stat_modifiers = [SubResource("mod_a5_dmg"), SubResource("mod_a5_aoe")]

[sub_resource type="Resource" id="path_a"]
script = ExtResource("4_upd")
path_name = "Volume Control"
description = "Increase acoustic output and focus"
tiers = [SubResource("tier_a1"), SubResource("tier_a2"), SubResource("tier_a3"), SubResource("tier_a4"), SubResource("tier_a5")]

; -- Path B "Frequency Modulation" (AoE + rate) --
[sub_resource type="Resource" id="mod_b1_aoe"]
script = ExtResource("6_smd")
stat_name = "area_of_effect"
operation = 0
value = 0.3

[sub_resource type="Resource" id="tier_b1"]
script = ExtResource("5_utd")
tier_name = "Harmonic Resonance"
description = "Sympathetic vibrations at civilian frequency"
cost = 3
stat_modifiers = [SubResource("mod_b1_aoe")]

[sub_resource type="Resource" id="mod_b2_aoe"]
script = ExtResource("6_smd")
stat_name = "area_of_effect"
operation = 0
value = 0.5

[sub_resource type="Resource" id="mod_b2_rate"]
script = ExtResource("6_smd")
stat_name = "fire_rate"
operation = 1
value = 1.2

[sub_resource type="Resource" id="tier_b2"]
script = ExtResource("5_utd")
tier_name = "Doppler Array"
description = "Moving targets receive bonus discomfort"
cost = 6
stat_modifiers = [SubResource("mod_b2_aoe"), SubResource("mod_b2_rate")]

[sub_resource type="Resource" id="mod_b3_aoe"]
script = ExtResource("6_smd")
stat_name = "area_of_effect"
operation = 0
value = 0.5

[sub_resource type="Resource" id="mod_b3_rate"]
script = ExtResource("6_smd")
stat_name = "fire_rate"
operation = 1
value = 1.15

[sub_resource type="Resource" id="tier_b3"]
script = ExtResource("5_utd")
tier_name = "Waveform Optimizer"
description = "Peak performance at peak decibels"
cost = 9
stat_modifiers = [SubResource("mod_b3_aoe"), SubResource("mod_b3_rate")]

[sub_resource type="Resource" id="mod_b4_aoe"]
script = ExtResource("6_smd")
stat_name = "area_of_effect"
operation = 0
value = 0.5

[sub_resource type="Resource" id="mod_b4_rate"]
script = ExtResource("6_smd")
stat_name = "fire_rate"
operation = 1
value = 1.2

[sub_resource type="Resource" id="tier_b4"]
script = ExtResource("5_utd")
tier_name = "Harmonic Cascade"
description = "When one frequency isn't enough, try all of them"
cost = 15
stat_modifiers = [SubResource("mod_b4_aoe"), SubResource("mod_b4_rate")]

[sub_resource type="Resource" id="mod_b5_aoe"]
script = ExtResource("6_smd")
stat_name = "area_of_effect"
operation = 0
value = 1.0

[sub_resource type="Resource" id="stun_b5"]
script = ExtResource("7_sed")
effect_type = 5
duration = 0.5
potency = 1.0
stack_limit = 1
apply_chance = 0.15

[sub_resource type="Resource" id="tier_b5"]
script = ExtResource("5_utd")
tier_name = "Sonic Boom"
description = "Causes temporary deafness and permanent regret about attending this protest"
cost = 24
stat_modifiers = [SubResource("mod_b5_aoe")]
unlocks_ability = SubResource("stun_b5")

[sub_resource type="Resource" id="path_b"]
script = ExtResource("4_upd")
path_name = "Frequency Modulation"
description = "Widen blast area and cycling speed"
tiers = [SubResource("tier_b1"), SubResource("tier_b2"), SubResource("tier_b3"), SubResource("tier_b4"), SubResource("tier_b5")]

; -- Path C "Psychological Ops" (slow/disorient focus) --
[sub_resource type="Resource" id="slow_c1"]
script = ExtResource("7_sed")
effect_type = 0
duration = 2.0
potency = 0.2
stack_limit = 1
apply_chance = 1.0

[sub_resource type="Resource" id="tier_c1"]
script = ExtResource("5_utd")
tier_name = "Disorientation Pulse"
description = "Which way is the exit? There is no exit."
cost = 3
unlocks_ability = SubResource("slow_c1")

[sub_resource type="Resource" id="slow_c2"]
script = ExtResource("7_sed")
effect_type = 0
duration = 2.5
potency = 0.35
stack_limit = 1
apply_chance = 1.0

[sub_resource type="Resource" id="mod_c2_range"]
script = ExtResource("6_smd")
stat_name = "base_range"
operation = 0
value = 0.5

[sub_resource type="Resource" id="tier_c2"]
script = ExtResource("5_utd")
tier_name = "Nausea Frequency"
description = "Weaponized motion sickness at 19Hz"
cost = 6
stat_modifiers = [SubResource("mod_c2_range")]
unlocks_ability = SubResource("slow_c2")

[sub_resource type="Resource" id="slow_c3"]
script = ExtResource("7_sed")
effect_type = 0
duration = 2.0
potency = 0.3
stack_limit = 1
apply_chance = 1.0

[sub_resource type="Resource" id="mod_c3_range"]
script = ExtResource("6_smd")
stat_name = "base_range"
operation = 0
value = 0.5

[sub_resource type="Resource" id="tier_c3"]
script = ExtResource("5_utd")
tier_name = "Infrasound Emitter"
description = "You can't hear it, but your organs can"
cost = 9
stat_modifiers = [SubResource("mod_c3_range")]
unlocks_ability = SubResource("slow_c3")

[sub_resource type="Resource" id="weaken_c4"]
script = ExtResource("7_sed")
effect_type = 7
duration = 3.0
potency = 0.15
stack_limit = 1
apply_chance = 1.0

[sub_resource type="Resource" id="tier_c4"]
script = ExtResource("5_utd")
tier_name = "Demoralization Frequency"
description = "Tuned to the frequency of existential dread"
cost = 15
unlocks_ability = SubResource("weaken_c4")

[sub_resource type="Resource" id="slow_c5"]
script = ExtResource("7_sed")
effect_type = 0
duration = 3.0
potency = 0.5
stack_limit = 1
apply_chance = 1.0

[sub_resource type="Resource" id="tier_c5"]
script = ExtResource("5_utd")
tier_name = "Total Submission"
description = "Free will is a privilege, not a right. Privilege revoked."
cost = 24
unlocks_ability = SubResource("slow_c5")

[sub_resource type="Resource" id="path_c"]
script = ExtResource("4_upd")
path_name = "Psychological Ops"
description = "Disorient and slow enemies with disruptive frequencies"
tiers = [SubResource("tier_c1"), SubResource("tier_c2"), SubResource("tier_c3"), SubResource("tier_c4"), SubResource("tier_c5")]

[resource]
script = ExtResource("1_td")
tower_id = "lrad_cannon"
tower_name = "LRAD Cannon"
description = "Long Range Acoustic Device. Hearing damage is a feature, not a bug."
scene = ExtResource("2_scene")
build_cost = 12
sell_ratio = 0.65
base_damage = 8.0
damage_type = 4
base_range = 4.0
fire_rate = 0.5
projectile_type = 3
projectile_scene = ExtResource("3_proj")
area_of_effect = 1.0
pierce_count = 1
crit_chance = 0.0
crit_multiplier = 2.0
on_hit_effects = [SubResource("poison_effect")]
upgrade_paths = [SubResource("path_a"), SubResource("path_b"), SubResource("path_c")]
